╔══════════════════════════════════════════════════════════════════╗
║            MENU-DRIVEN CLIENT - HOW IT WORKS                      ║
╚══════════════════════════════════════════════════════════════════╝

CONCEPT: Persistent Menu That Updates Based on Context
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  ┌────────────────────────────────────────────────────────────┐
  │ You start in TOWN SQUARE                                   │
  └────────────────────────────────────────────────────────────┘

  Menu Shows:
  ┌────────────────────────────────────────────────────────────┐
  │ >> [1] Move North      - Travel north                      │
  │    [2] Move South      - Travel south                      │
  │    [3] Move East       - Travel east                       │
  │    [4] Move West       - Travel west                       │
  │    [5] Look Around     - Examine location                  │
  │    [6] View Status     - Check stats                       │
  │    [7] View Inventory  - See equipment                     │
  │    [8] Shop            - Browse items                      │
  │    [9] See Players     - Who's online                      │
  │    [10] Send Message   - Chat                              │
  │    [11] Help           - Commands                          │
  │    [12] Quit Game      - Disconnect                        │
  └────────────────────────────────────────────────────────────┘

  NOTE: No "Attack Enemy" - Town Square is safe!

  ↓ You select [1] Move North
  ↓ Client sends "north" to server
  ↓ Server responds: "Dark Forest... Exits: south, east ... Enemies: Goblin"

  ┌────────────────────────────────────────────────────────────┐
  │ You are now in DARK FOREST                                 │
  └────────────────────────────────────────────────────────────┘

  Menu UPDATES:
  ┌────────────────────────────────────────────────────────────┐
  │ >> [1] Move South      - Travel south    ← Only valid exits│
  │    [2] Move East       - Travel east     ← parsed from     │
  │    [3] Look Around     - Examine location  server response │
  │    [4] Attack Enemy    - Fight enemy     ← NEW! Enemies    │
  │    [5] Cast Spell      - Use magic       ← detected!       │
  │    [6] View Status     - Check stats                       │
  │    [7] View Inventory  - See equipment                     │
  │    [8] Shop            - Browse items                      │
  │    [9] See Players     - Who's online                      │
  │    [10] Send Message   - Chat                              │
  │    [11] Help           - Commands                          │
  │    [12] Quit Game      - Disconnect                        │
  └────────────────────────────────────────────────────────────┘

  ↓ You select [4] Attack Enemy
  ↓ Client prompts: "Enter enemy name: goblin"
  ↓ Client sends "attack goblin" to server
  ↓ Combat happens...
  ↓ Server responds: "Victory!..."

  Menu REFRESHES with new context!

FLOW DIAGRAM
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  ┌─────────────┐
  │   PLAYER    │
  └──────┬──────┘
         │
         │ Navigate menu with ↑/↓
         │ Press ENTER to select
         │
         ↓
  ┌─────────────────────────┐
  │   MENU-DRIVEN CLIENT    │
  ├─────────────────────────┤
  │                         │
  │ 1. Show current menu    │───┐
  │    based on game state  │   │
  │                         │   │
  │ 2. User selects option  │   │
  │                         │   │
  │ 3. Convert to command   │   │
  │    (e.g., "Move North"  │   │
  │     → "north")          │   │
  │                         │   │
  │ 4. Send to server       │   │ CONTINUOUS
  │         │               │   │ LOOP
  │         ↓               │   │
  │ ┌───────────────┐       │   │
  │ │  Parse response│       │   │
  │ │  Extract:      │       │   │
  │ │  - Exits       │       │   │
  │ │  - Enemies     │       │   │
  │ │  - Location    │       │   │
  │ └───────┬───────┘       │   │
  │         │               │   │
  │ 5. Rebuild menu         │   │
  │    with new context     │───┘
  │                         │
  └──────────┬──────────────┘
             │
             │ "north"
             │ "attack goblin"
             │ "shop"
             │
             ↓
  ┌─────────────────────────┐
  │    GAME SERVER          │
  ├─────────────────────────┤
  │                         │
  │ - Process command       │
  │ - Update game state     │
  │ - Send text response    │
  │                         │
  │ Response includes:      │
  │   "LOCATION: ..."       │
  │   "Exits: n, s, e, w"   │
  │   "[!] Enemies: ..."    │
  │                         │
  └─────────────────────────┘

CONTEXT AWARENESS EXAMPLE
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  Town Square                Dark Forest           Dragon's Peak
  ─────────────              ────────────          ──────────────
  
  Server says:               Server says:          Server says:
  "Exits: n,s,e,w"          "Exits: s,e"          "Exits: s"
  No enemies                 "Enemies: Goblin"     "Enemies: Dragon"
  
  Menu shows:                Menu shows:           Menu shows:
  ✓ Move N,S,E,W            ✓ Move S,E only       ✓ Move S only
  ✗ Attack                  ✓ Attack Enemy        ✓ Attack Enemy
  ✗ Cast Spell              ✓ Cast Spell          ✓ Cast Spell
  ✓ All other options       ✓ All other options   ✓ All other options

PARSING LOGIC
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  Server Response:
  ┌────────────────────────────────────────────────────────────┐
  │ ============================================================│
  │ LOCATION: Dark Forest                                      │
  │ ============================================================│
  │ A dense, dark forest. Strange sounds echo through trees.   │
  │                                                            │
  │ Exits: south, east                                         │
  │ [!] Enemies: Goblin, Wolf                                  │
  │ ============================================================│
  └────────────────────────────────────────────────────────────┘
               ↓
  Client Parses:
  ┌────────────────────────────────────────────────────────────┐
  │ 1. Find "Exits:" line                                      │
  │    Extract: ['south', 'east']                              │
  │                                                            │
  │ 2. Check for "Enemies:" or "[!] Enemies"                   │
  │    Found: has_enemies = True                               │
  │                                                            │
  │ 3. Build menu:                                             │
  │    - Add moves for: south, east                            │
  │    - Add combat options (enemies present)                  │
  │    - Add standard options                                  │
  └────────────────────────────────────────────────────────────┘
               ↓
  Display Updated Menu:
  ┌────────────────────────────────────────────────────────────┐
  │ >> Move South                                              │
  │    Move East                                               │
  │    Look Around                                             │
  │    Attack Enemy      ← Added because enemies detected      │
  │    Cast Spell        ← Added because enemies detected      │
  │    View Status                                             │
  │    ...                                                     │
  └────────────────────────────────────────────────────────────┘

COMMAND TRANSLATION
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  Menu Option          →    Server Command
  ───────────────────────────────────────────
  "Move North"         →    "north"
  "Move South"         →    "south"
  "Look Around"        →    "look"
  "View Status"        →    "status"
  "View Inventory"     →    "inventory"
  "Attack Enemy"       →    "attack <enemy>" (prompts for name)
  "Cast Spell"         →    "cast <spell>"   (prompts for name)
  "Shop"               →    "shop"
  "See Players"        →    "players"
  "Send Message"       →    "say <message>"  (prompts for message)
  "Help"               →    "help"

KEY BENEFITS
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  ✓ No toggling - Menu always visible
  ✓ Context-aware - Changes based on location
  ✓ Prevents errors - Only shows valid actions
  ✓ Discoverable - See what you can do
  ✓ Arrow keys - Easy navigation
  ✓ Still text - Works with existing server
  ✓ Dynamic - Updates after every action

For full documentation, see: docs/MENU_DRIVEN_CLIENT.md

